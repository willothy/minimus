-- THE FOLLOWING IS AUTO-GENERATED, DO NOT MODIFY --
local spec = {
  ["@boolean"] = {
    link = "Boolean"
  },
  ["@character"] = {
    link = "Character"
  },
  ["@character.special"] = {
    link = "SpecialChar"
  },
  ["@constant.builtin"] = {
    fg = "#E8B1B0"
  },
  ["@constant.macro"] = {
    link = "Macro"
  },
  ["@define"] = {
    link = "Macro"
  },
  ["@field"] = {
    link = "Identifier"
  },
  ["@float"] = {
    link = "Float"
  },
  ["@function"] = {
    fg = "#4DCCFF"
  },
  ["@function.macro"] = {
    link = "Macro"
  },
  ["@include"] = {
    link = "Macro"
  },
  ["@keyword"] = {
    link = "Keyword"
  },
  ["@lsp.mod.async"] = {
    link = "Keyword"
  },
  ["@lsp.mod.callable"] = {
    link = "Function"
  },
  ["@lsp.mod.keyword"] = {
    link = "Keyword"
  },
  ["@lsp.type.attribute"] = {
    link = "Macro"
  },
  ["@lsp.type.builtinAttribute"] = {
    link = "Macro"
  },
  ["@lsp.type.enumMember"] = {
    fg = "#CAA6F7"
  },
  ["@lsp.type.escapeSequence"] = {
    link = "SpecialChar"
  },
  ["@lsp.type.formatSpecifier"] = {
    link = "SpecialChar"
  },
  ["@lsp.type.keyword"] = {
    link = "Keyword"
  },
  ["@lsp.type.macro"] = {
    link = "Macro"
  },
  ["@lsp.type.macroBang"] = {
    link = "Operator"
  },
  ["@lsp.type.operator"] = {
    link = "Operator"
  },
  ["@lsp.type.property"] = {
    fg = "#F8BACB"
  },
  ["@lsp.type.punctuation"] = {
    link = "Delimiter"
  },
  ["@lsp.type.selfKeyword"] = {
    fg = "#89B5FA"
  },
  ["@lsp.type.selfTypeKeyword"] = {
    link = "Keyword"
  },
  ["@lsp.type.typeAlias"] = {
    fg = "#FFFAC2"
  },
  ["@lsp.type.typeParameter"] = {
    fg = "#FFFAC2"
  },
  ["@lsp.type.union"] = {
    fg = "#FFFAC2"
  },
  ["@lsp.type.variable"] = {
    link = "Identifier"
  },
  ["@lsp.typemod.variable.static"] = {
    fg = "#E8B1B0"
  },
  ["@macro"] = {
    link = "Macro"
  },
  ["@method"] = {
    fg = "#6BD5FF"
  },
  ["@namespace"] = {
    fg = "#8ADEFF"
  },
  ["@number"] = {
    link = "Number"
  },
  ["@parameter"] = {
    fg = "#B8DCFF"
  },
  ["@preproc"] = {
    link = "Macro"
  },
  ["@property"] = {
    fg = "#7ABFFF"
  },
  ["@punctuation"] = {
    fg = "#B1C0D3"
  },
  ["@string"] = {
    link = "String"
  },
  ["@string.escape"] = {
    fg = "#A0ACFE"
  },
  ["@string.special"] = {
    fg = "#A0ACFE"
  },
  ["@structure"] = {
    fg = "#8ADEFF"
  },
  ["@text.literal"] = {},
  ["@text.reference"] = {
    fg = "#ADD8FF"
  },
  ["@text.title"] = {
    fg = "#5EE4C7"
  },
  ["@text.todo"] = {
    link = "Todo"
  },
  ["@text.underline"] = {
    link = "Underlined"
  },
  ["@text.uri"] = {
    link = "Underlined"
  },
  ["@variable"] = {
    link = "Identifier"
  },
  AerialArrayIcon = {
    link = "Constant"
  },
  AerialBooleanIcon = {
    link = "Boolean"
  },
  AerialClassIcon = {
    link = "Type"
  },
  AerialConstantIcon = {
    link = "Constant"
  },
  AerialConstructorIcon = {
    link = "Function"
  },
  AerialEnumIcon = {
    link = "Type"
  },
  AerialEnumMemberIcon = {
    link = "Identifier"
  },
  AerialEventIcon = {
    link = "Type"
  },
  AerialFieldIcon = {
    link = "Identifier"
  },
  AerialFileIcon = {
    link = "Identifier"
  },
  AerialFunctionIcon = {
    link = "Function"
  },
  AerialGuide = {
    fg = "#C4D1DE"
  },
  AerialInterfaceIcon = {
    link = "Type"
  },
  AerialKeyIcon = {
    link = "Identifier"
  },
  AerialLine = {
    bg = "none",
    fg = "#FFFAC2"
  },
  AerialMethodIcon = {
    link = "Function"
  },
  AerialModuleIcon = {
    link = "Identifier"
  },
  AerialNamespaceIcon = {
    fg = "#8ADEFF"
  },
  AerialNullIcon = {
    link = "Constant"
  },
  AerialNumberIcon = {
    link = "Number"
  },
  AerialObjectIcon = {
    link = "Type"
  },
  AerialOperatorIcon = {
    link = "Operator"
  },
  AerialPackageIcon = {
    link = "Identifier"
  },
  AerialPropertyIcon = {
    link = "Identifier"
  },
  AerialStringIcon = {
    link = "String"
  },
  AerialStructIcon = {
    link = "Type"
  },
  AerialTypeParameterIcon = {
    link = "Identifier"
  },
  AerialVariableIcon = {
    link = "Identifier"
  },
  Boolean = {
    fg = "#EA9EAB"
  },
  Character = {
    fg = "#8ADEFF"
  },
  CmpItemAbbr = {},
  CmpItemAbbrDeprecated = {
    strikethrough = true
  },
  CmpItemAbbrMatch = {
    bold = true,
    fg = "#E4F0FB"
  },
  CmpItemAbbrMatchFuzzy = {
    bold = true,
    fg = "#E4F0FB"
  },
  CmpItemKind = {
    fg = "#89B5FA"
  },
  CmpItemKindClass = {
    fg = "#F9E1AE"
  },
  CmpItemKindColor = {
    fg = "#F38CA9"
  },
  CmpItemKindConstant = {
    fg = "#FAB285"
  },
  CmpItemKindConstructor = {
    fg = "#89B5FA"
  },
  CmpItemKindCopilot = {
    fg = "#5EE4C7"
  },
  CmpItemKindEnum = {
    fg = "#FFFAC2"
  },
  CmpItemKindEnumMember = {
    fg = "#F38CA9"
  },
  CmpItemKindEvent = {
    fg = "#89B5FA"
  },
  CmpItemKindField = {
    fg = "#FFFAC2"
  },
  CmpItemKindFile = {
    fg = "#89B5FA"
  },
  CmpItemKindFolder = {
    fg = "#89B5FA"
  },
  CmpItemKindFunction = {
    fg = "#89B5FA"
  },
  CmpItemKindInterface = {
    fg = "#FFFAC2"
  },
  CmpItemKindKeyword = {
    fg = "#F38CA9"
  },
  CmpItemKindMethod = {
    fg = "#89B5FA"
  },
  CmpItemKindModule = {
    fg = "#89B5FA"
  },
  CmpItemKindOperator = {
    fg = "#89B5FA"
  },
  CmpItemKindProperty = {
    fg = "#FFFAC2"
  },
  CmpItemKindReference = {
    fg = "#F38CA9"
  },
  CmpItemKindSnippet = {
    fg = "#CAA6F7"
  },
  CmpItemKindStruct = {
    fg = "#89B5FA"
  },
  CmpItemKindText = {
    fg = "#93E1D4"
  },
  CmpItemKindTypeParameter = {
    fg = "#89B5FA"
  },
  CmpItemKindUnit = {
    fg = "#FFFAC2"
  },
  CmpItemKindValue = {
    fg = "#FAB285"
  },
  CmpItemKindVariable = {
    fg = "#F2CECE"
  },
  CmpItemMenu = {
    fg = "#E4F0FB"
  },
  ColorColumn = {
    bg = "#373A49"
  },
  CommandMode = {
    fg = "#FAB285"
  },
  Comment = {
    fg = "#7DACD9"
  },
  Conceal = {
    bg = "none"
  },
  Conditional = {
    fg = "#629CF8"
  },
  Constant = {
    fg = "#E8B1B0"
  },
  CopilotStatusError = {
    bg = "#303340",
    fg = "#F38CA9"
  },
  CopilotStatusOk = {
    bg = "#303340",
    fg = "#5EE4C7"
  },
  Cursor = {
    bg = "#fefefe",
    fg = "#1f1f1f"
  },
  CursorColumn = {
    bg = "#373A49"
  },
  CursorLine = {
    bg = "#2F344B"
  },
  CursorLineNr = {},
  Cursorword = {
    italic = true
  },
  CursorwordCurrent = {},
  Debug = {
    fg = "#F38CA9"
  },
  Define = {
    link = "Macro"
  },
  Delimiter = {
    fg = "#B1C0D3"
  },
  DiagnosticError = {
    fg = "#D74947",
    sp = "#D74947"
  },
  DiagnosticHint = {
    fg = "#89DCEB",
    sp = "#89DCEB"
  },
  DiagnosticInfo = {
    fg = "#74C6EC",
    sp = "#F2CECE"
  },
  DiagnosticUnderlineError = {
    sp = "#D74947",
    underline = true
  },
  DiagnosticUnderlineHint = {
    sp = "#89DCEB",
    underline = true
  },
  DiagnosticUnderlineInfo = {
    sp = "#74C6EC",
    underline = true
  },
  DiagnosticUnderlineWarn = {
    sp = "#FFF694",
    underline = true
  },
  DiagnosticWarn = {
    fg = "#FFF694",
    sp = "#FFF694"
  },
  DiffAdd = {
    fg = "#5EE4C7"
  },
  DiffChange = {
    fg = "#FFFAC2"
  },
  DiffDelete = {
    fg = "#F38CA9"
  },
  DiffText = {
    fg = "#8ADEFF"
  },
  Directory = {
    fg = "#89B5FA"
  },
  DropBar = {
    fg = "#89B5FA"
  },
  DropBarIconUISeparator = {
    fg = "#89B5FA"
  },
  DropBarMenuCurrentContext = {
    bg = "#2E304D",
    fg = "#89B5FA"
  },
  EndOfBuffer = {
    bg = "none"
  },
  Error = {
    bg = "none",
    fg = "#C94745"
  },
  ErrorMsg = {
    fg = "#F38CA9"
  },
  Exception = {
    fg = "#629CF8"
  },
  FidgetTask = {
    bg = "none",
    fg = "#E4F0FB"
  },
  FidgetTitle = {
    bg = "none",
    fg = "#89B5FA"
  },
  Float = {
    fg = "#EA9EAB"
  },
  FoldColumn = {
    bg = "none"
  },
  Folded = {
    bg = "none",
    fg = "#7E92A9"
  },
  Function = {
    fg = "#4DCCFF"
  },
  GitSignsAdd = {
    fg = "#5EE4C7"
  },
  GitSignsAddPreview = {
    fg = "#5EE4C7"
  },
  GitSignsChange = {
    fg = "#FFFAC2"
  },
  GitSignsChangePreview = {
    fg = "#FFFAC2"
  },
  GitSignsDelete = {
    fg = "#F38CA9"
  },
  GlanceBorderTop = {
    bg = "#25273C",
    fg = "#89B5FA"
  },
  GlanceFoldIcon = {
    fg = "#7E92A9"
  },
  GlanceIndent = {
    fg = "#7E92A9"
  },
  GlanceListBorderBottom = {
    bg = "none",
    fg = "#89B5FA"
  },
  GlanceListCursorLine = {
    bg = "#2B2D45"
  },
  GlanceListEndOfBuffer = {
    bg = "#25273C",
    fg = "#89B5FA"
  },
  GlanceListFilename = {
    bg = "#25273C",
    fg = "#89B5FA"
  },
  GlanceListFilepath = {
    bg = "#25273C",
    fg = "#89B5FA"
  },
  GlanceListMatch = {
    fg = "#89B5FA"
  },
  GlanceListNormal = {
    bg = "#25273C"
  },
  GlancePreviewBorderBottom = {
    bg = "none",
    fg = "#89B5FA"
  },
  GlancePreviewCursorLine = {
    bg = "#2B2D45"
  },
  GlancePreviewEndOfBuffer = {
    bg = "#2B2D45",
    fg = "#89B5FA"
  },
  GlancePreviewLineNr = {
    bg = "#2B2D45",
    fg = "#8F94C1"
  },
  GlancePreviewMatch = {
    bg = "#2B2D45",
    fg = "#89B5FA"
  },
  GlancePreviewNormal = {
    bg = "#2B2D45",
    fg = "#E4F0FB"
  },
  GlancePreviewSignColumn = {
    bg = "#2B2D45",
    fg = "#89B5FA"
  },
  GlanceWinBarFilename = {
    bg = "#25273C",
    fg = "#89B5FA"
  },
  GlanceWinBarFilepath = {
    bg = "#25273C",
    fg = "#89B5FA"
  },
  GlanceWinBarTitle = {
    bg = "#25273C",
    fg = "#89B5FA"
  },
  HydraBorder = {},
  Identifier = {
    fg = "#ADD8FF"
  },
  IncSearch = {
    bg = "#5EE4C7",
    fg = "#1B1E27"
  },
  Include = {
    link = "Macro"
  },
  IndentScope = {
    bg = "NONE",
    fg = "#363655"
  },
  InsertMode = {
    fg = "#8ADEFF"
  },
  Keyword = {
    fg = "#629CF8"
  },
  LSPInlayHint = {
    bg = "none",
    fg = "#7E92A9"
  },
  Label = {
    fg = "#629CF8"
  },
  LazyNormal = {
    bg = "none"
  },
  LeapBackdrop = {
    fg = "#7DACD9"
  },
  LeapLabelPrimary = {
    fg = "#E8B1B0"
  },
  LeapLabelSecondary = {
    fg = "#F38CA9"
  },
  LeapLabelSelected = {
    fg = "#89B5FA"
  },
  LeapMatch = {
    fg = "#E8B1B0"
  },
  LineNr = {
    bg = "none",
    bold = true,
    fg = "#8F94C1"
  },
  LspCodeLens = {
    bg = "none",
    fg = "#E4F0FB"
  },
  LspCodeLensSeparator = {
    bg = "none",
    fg = "#8DA2BF"
  },
  LspReferenceRead = {
    fg = "#E4F0FB"
  },
  LspReferenceText = {
    fg = "#E4F0FB"
  },
  LspReferenceWrite = {
    fg = "#E4F0FB"
  },
  LspSignatureActiveParameter = {
    bg = "none",
    fg = "#5EE4C7"
  },
  Macro = {
    fg = "#F38CA9"
  },
  MasonError = {
    fg = "#F38CA9"
  },
  MasonHeader = {
    bg = "#262840",
    bold = true,
    fg = "#5EE4C7"
  },
  MasonHeaderSecondary = {
    bg = "#373A49",
    bold = true,
    fg = "#8ADEFF"
  },
  MasonHeading = {
    bold = true,
    fg = "#B4BEFE"
  },
  MasonHighlight = {
    fg = "#A6E3A1"
  },
  MasonHighlightBlock = {
    bg = "#262840",
    fg = "#8ADEFF"
  },
  MasonHighlightBlockBold = {
    bg = "#373A49",
    bold = true,
    fg = "#8ADEFF"
  },
  MasonHighlightBlockBoldSecondary = {
    bg = "#262840",
    bold = true,
    fg = "#5EE4C7"
  },
  MasonHighlightBlockSecondary = {
    bg = "#373A49",
    fg = "#8ADEFF"
  },
  MasonHighlightSecondary = {
    fg = "#CAA6F7"
  },
  MasonMuted = {
    fg = "#89B5FA"
  },
  MasonMutedBlock = {
    bg = "#262840"
  },
  MasonMutedBlockBold = {
    bg = "#FFFAC2",
    bold = true,
    fg = "#000000"
  },
  MatchParen = {
    bg = "#5EE4C7",
    fg = "#1B1E27"
  },
  MiniIndentscopePrefix = {
    bold = true
  },
  MiniIndentscopeSymbol = {
    bold = true,
    fg = "#89B5FA"
  },
  MiniJump2dSpot = {
    bold = true,
    underline = true
  },
  ModeMsg = {
    fg = "#5EE4C7"
  },
  MoreMsg = {
    fg = "#5EE4C7"
  },
  MsgArea = {
    fg = "#5EE4C7"
  },
  NonText = {
    bg = "none"
  },
  Normal = {
    bg = "#262840",
    fg = "#E4F0FB"
  },
  NormalFloat = {
    bg = "#262840",
    fg = "#E4F0FB"
  },
  NormalMode = {
    fg = "#5EE4C7"
  },
  NormalNC = {
    bg = "#262840",
    fg = "#88A9C8"
  },
  NotifyDEBUGBorder = {
    fg = "#FAB285"
  },
  NotifyDEBUGIcon = {
    fg = "#FAB285"
  },
  NotifyDEBUGTitle = {
    fg = "#FAB285",
    italic = true
  },
  NotifyERRORBorder = {
    fg = "#F38CA9"
  },
  NotifyERRORIcon = {
    fg = "#F38CA9"
  },
  NotifyERRORTitle = {
    fg = "#F38CA9",
    italic = true
  },
  NotifyINFOBorder = {
    fg = "#89B5FA"
  },
  NotifyINFOIcon = {
    fg = "#89B5FA"
  },
  NotifyINFOTitle = {
    fg = "#89B5FA",
    italic = true
  },
  NotifyTRACEBorder = {
    fg = "#F5DFDB"
  },
  NotifyTRACEIcon = {
    fg = "#F5DFDB"
  },
  NotifyTRACETitle = {
    fg = "#F5DFDB",
    italic = true
  },
  NotifyWARNBorder = {
    fg = "#F9E1AE"
  },
  NotifyWARNIcon = {
    fg = "#F9E1AE"
  },
  NotifyWARNTitle = {
    fg = "#F9E1AE",
    italic = true
  },
  Number = {
    fg = "#EA9EAB"
  },
  Operator = {
    fg = "#B4C2D5"
  },
  Pmenu = {
    bg = "#373A49",
    fg = "#E4F0FB"
  },
  PmenuSbar = {
    bg = "#7E92A9",
    fg = "#000000"
  },
  PmenuSel = {
    bg = "#5EE4C7",
    fg = "#1B1E27"
  },
  PmenuThumb = {
    bg = "#5EE4C7",
    fg = "#1B1E27"
  },
  PreProc = {
    link = "Macro"
  },
  Repeat = {
    fg = "#629CF8"
  },
  ReplaceMode = {
    fg = "#FCC5E9"
  },
  ScrollBar = {
    bg = "#2F314C"
  },
  Search = {
    bg = "#5EE4C7",
    fg = "#1B1E27"
  },
  SelectMode = {
    fg = "#FFFAC2"
  },
  SignColumn = {
    bg = "none"
  },
  Special = {
    fg = "#A0ACFE"
  },
  SpecialChar = {
    fg = "#A0ACFE"
  },
  SpecialComment = {
    fg = "#B4BEFE"
  },
  SpecialKey = {
    fg = "#F38CA9"
  },
  SpellBad = {
    fg = "#F38CA9"
  },
  SpellCap = {
    fg = "#FFFAC2"
  },
  SpellLocal = {
    fg = "#5EE4C7"
  },
  SpellRare = {
    fg = "#8ADEFF"
  },
  Statement = {
    fg = "#629CF8"
  },
  StatusLine = {
    bg = "#262840"
  },
  StatusLineNC = {
    bg = "#282A43"
  },
  StorageClass = {
    fg = "#629CF8"
  },
  String = {
    fg = "#F2CECE"
  },
  Structure = {
    fg = "#FFFAC2"
  },
  Substitute = {
    bg = "#5EE4C7",
    fg = "#1B1E27"
  },
  TabLine = {
    bg = "#303340",
    bold = true,
    fg = "#7E92A9"
  },
  TabLineError = {
    bg = "#303340",
    fg = "#D74947"
  },
  TabLineFill = {
    bg = "none"
  },
  TabLineInfo = {
    bg = "#303340",
    fg = "#74C6EC"
  },
  TabLineSel = {
    bg = "#5EE4C7",
    bold = true,
    fg = "#1B1E27"
  },
  TabLineWarn = {
    bg = "#303340",
    fg = "#FFF694"
  },
  Tag = {
    fg = "#A2C4FB"
  },
  TelescopeBorder = {
    fg = "#89B5FA"
  },
  TermCursor = {
    bg = "#E4F0FB",
    fg = "#303340"
  },
  TermCursorNC = {
    fg = "#E4F0FB"
  },
  TerminalMode = {
    fg = "#FAB285"
  },
  TerminalNormalMode = {
    fg = "#5EE4C7"
  },
  Title = {
    fg = "#5EE4C7"
  },
  Todo = {
    bg = "none",
    fg = "#FFFAC2"
  },
  ToggleTermName = {
    bg = "none",
    fg = "#7E92A9"
  },
  Type = {
    fg = "#FFFAC2"
  },
  Typedef = {
    fg = "#FFFAC2"
  },
  Underlined = {
    underline = true
  },
  VertSplit = {
    bg = "none",
    fg = "#7E92A9"
  },
  Visual = {
    bg = "#3D4151"
  },
  VisualMode = {
    fg = "#FFFAC2"
  },
  VisualNOS = {
    bg = "#3D4151"
  },
  WhichKey = {
    fg = "#F2CECE"
  },
  WhichKeyBorder = {
    fg = "#89B5FA"
  },
  WhichKeyDesc = {
    fg = "#F5C2E7"
  },
  WhichKeyGroup = {
    fg = "#89B5FA"
  },
  WhichKeySeperator = {},
  WhichKeyValue = {},
  Whitespace = {
    bg = "none"
  },
  WildMenu = {
    fg = "#8ADEFF"
  },
  WinBar = {
    fg = "#BCDAF5"
  },
  WinBarNC = {
    link = "NormalNC"
  },
  WinSeparator = {
    fg = "#2C3354"
  },
  Winseparator = {
    bg = "none",
    fg = "#35485F"
  },
  iCursor = {
    link = "Cursor"
  }
}

for k, v in pairs(spec) do
  vim.api.nvim_set_hl(0, k, v)
end

local group = vim.api.nvim_create_augroup('minimus', { clear = true })

local mode_names = {
  ['n'] = 'Normal',
  ['no'] = 'Normal',
  ['i'] = 'Insert',
  ['v'] = 'Visual',
  ['vo'] = 'Visual',
  ['V'] = 'Visual',
  [''] = 'Visual',
  ['s'] = 'Select',
  ['S'] = 'Select',
  ['R'] = 'Replace',
  ['c'] = 'Command',
  ['t'] = 'Terminal',
  ['nt'] = 'TerminalNormal',
}

local function get_color(evt)
  evt = evt or ''

  local hl
  local hydra = package.loaded.hydra and require 'hydra.statusline'
  if hydra and hydra.is_active() and evt ~= 'HydraLeave' then
    local color = hydra.get_color()
    if color == 'pink' then
      hl = 'HydraPink'
    elseif color == 'red' then
      hl = 'HydraRed'
    elseif color == 'blue' then
      hl = 'HydraBlue'
    elseif color == 'teal' then
      hl = 'HydraTeal'
    elseif color == 'amaranth' then
      hl = 'HydraAmaranth'
    end
  else
    local mode = mode_names[vim.api.nvim_get_mode().mode] or 'Normal'
    hl = mode .. 'Mode'
  end

  local function hex(rgb)
    if type(rgb) == 'string' then
      return rgb
    end
    local bit = require 'bit'
    local r = bit.rshift(bit.band(rgb, 0xff0000), 16)
    local g = bit.rshift(bit.band(rgb, 0x00ff00), 8)
    local b = bit.band(rgb, 0x0000ff)

    return ('#%02x%02x%02x'):format(r, g, b)
  end

  return { link = hl }
end

local function update_mode(ev)
  local hl = get_color(ev.file)
  vim.api.nvim_set_hl(0, 'CurrentMode', hl)
end

update_mode {}

vim.api.nvim_create_autocmd({ 'ModeChanged' }, {
  group = group,
  callback = update_mode,
})
vim.api.nvim_create_autocmd('User', {
  pattern = { 'HydraEnter', 'HydraLeave' },
  group = group,
  callback = update_mode,
})

